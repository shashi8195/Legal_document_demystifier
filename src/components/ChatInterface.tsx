import React, { useState, useRef, useEffect } from 'react';
import { Send, Bot, User, Lightbulb } from 'lucide-react';
import { getLocalizedText } from './LanguageSelector';

interface ChatInterfaceProps {
  docData: any;
  language: string;
}

interface Message {
  id: string;
  text: string;
  sender: 'user' | 'ai';
  timestamp: Date;
}

export const ChatInterface: React.FC<ChatInterfaceProps> = ({ docData, language }) => {
  const [messages, setMessages] = useState<Message[]>([
    {
      id: '1',
      text: `Hi! I've read through your document "${docData.name}" and I'm here to help you understand it. Think of me as your friendly legal translator - I can explain confusing parts, tell you about your rights, or help you spot anything that might be unfair. What questions do you have?`,
      sender: 'ai',
      timestamp: new Date()
    }
  ]);
  const [inputText, setInputText] = useState('');
  const [isTyping, setIsTyping] = useState(false);
  const messagesEndRef = useRef<HTMLDivElement>(null);

  const scrollToBottom = () => {
    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });
  };

  useEffect(() => {
    scrollToBottom();
  }, [messages]);

  const handleSendMessage = async () => {
    if (!inputText.trim()) return;

    const userMessage: Message = {
      id: Date.now().toString(),
      text: inputText,
      sender: 'user',
      timestamp: new Date()
    };

    setMessages(prev => [...prev, userMessage]);
    setInputText('');
    setIsTyping(true);

    // Generate contextual AI response based on user question
    setTimeout(() => {
      const aiResponse = generateContextualResponse(inputText, docData, language);
      
      const aiMessage: Message = {
        id: (Date.now() + 1).toString(),
        text: aiResponse,
        sender: 'ai',
        timestamp: new Date()
      };

      setMessages(prev => [...prev, aiMessage]);
      setIsTyping(false);
    }, 2000);
  };

  const handleKeyPress = (e: React.KeyboardEvent) => {
    if (e.key === 'Enter' && !e.shiftKey) {
      e.preventDefault();
      handleSendMessage();
    }
  };

  const suggestedQuestions = [
    getLocalizedText('suggested_q1', language) || "Can my landlord kick me out without much warning?",
    getLocalizedText('suggested_q2', language) || "What happens if I need to move out early?",
    getLocalizedText('suggested_q3', language) || "Can my landlord raise the rent whenever they want?",
    getLocalizedText('suggested_q4', language) || "What if something expensive breaks - who pays?",
    getLocalizedText('suggested_q5', language) || "Is this security deposit amount normal?",
    getLocalizedText('suggested_q6', language) || "What are my rights if the landlord doesn't fix things?"
  ];

  return (
    <div className="max-w-4xl mx-auto">
      <div className="bg-white rounded-xl shadow-lg border border-gray-200 overflow-hidden">
        {/* Chat Header */}
        <div className="bg-blue-600 text-white p-6">
          <h2 className="text-xl font-bold flex items-center">
            <Bot className="w-6 h-6 mr-3" />
            {getLocalizedText('ask_anything', language) || 'Ask Me Anything About Your Document'}
          </h2>
          <p className="text-blue-100 mt-2">
            {getLocalizedText('explain_simple', language) || "I'll explain everything in simple words and help you understand what it really means"}
          </p>
        </div>

        {/* Messages */}
        <div className="h-96 overflow-y-auto p-6 space-y-4">
          {messages.map((message) => (
            <div
              key={message.id}
              className={`flex items-start space-x-3 ${
                message.sender === 'user' ? 'flex-row-reverse space-x-reverse' : ''
              }`}
            >
              <div className={`w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 ${
                message.sender === 'user' 
                  ? 'bg-gray-200' 
                  : 'bg-blue-100'
              }`}>
                {message.sender === 'user' ? (
                  <User className="w-4 h-4 text-gray-600" />
                ) : (
                  <Bot className="w-4 h-4 text-blue-600" />
                )}
              </div>
              
              <div className={`max-w-xs sm:max-w-md lg:max-w-lg xl:max-w-xl ${
                message.sender === 'user' ? 'text-right' : 'text-left'
              }`}>
                <div className={`inline-block p-4 rounded-lg ${
                  message.sender === 'user'
                    ? 'bg-blue-600 text-white'
                    : 'bg-gray-100 text-gray-900'
                }`}>
                  <p className="leading-relaxed">{message.text}</p>
                </div>
                <p className="text-xs text-gray-500 mt-1">
                  {message.timestamp.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}
                </p>
              </div>
            </div>
          ))}

          {isTyping && (
            <div className="flex items-start space-x-3">
              <div className="w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center">
                <Bot className="w-4 h-4 text-blue-600" />
              </div>
              <div className="bg-gray-100 rounded-lg p-4">
                <div className="flex space-x-1">
                  <div className="w-2 h-2 bg-gray-400 rounded-full animate-bounce"></div>
                  <div className="w-2 h-2 bg-gray-400 rounded-full animate-bounce" style={{ animationDelay: '0.1s' }}></div>
                  <div className="w-2 h-2 bg-gray-400 rounded-full animate-bounce" style={{ animationDelay: '0.2s' }}></div>
                </div>
              </div>
            </div>
          )}
          
          <div ref={messagesEndRef} />
        </div>

        {/* Suggested Questions */}
        {messages.length === 1 && (
          <div className="px-6 pb-4">
            <div className="flex items-center space-x-2 mb-3">
              <Lightbulb className="w-4 h-4 text-yellow-600" />
              <span className="text-sm font-medium text-gray-700">Common Questions People Ask</span>
            </div>
            <div className="grid sm:grid-cols-2 gap-2">
              {suggestedQuestions.map((question, index) => (
                <button
                  key={index}
                  onClick={() => setInputText(question)}
                  className="text-left p-3 text-sm bg-gray-50 hover:bg-gray-100 rounded-lg border border-gray-200 transition-colors duration-200"
                >
                  {question}
                </button>
              ))}
            </div>
          </div>
        )}

        {/* Input Area */}
        <div className="border-t border-gray-200 p-6">
          <div className="flex space-x-4">
            <div className="flex-1">
              <textarea
                value={inputText}
                onChange={(e) => setInputText(e.target.value)}
                onKeyPress={handleKeyPress}
                placeholder={getLocalizedText('ask_placeholder', language) || "Ask a question about your document..."}
                className="w-full p-3 border border-gray-300 rounded-lg resize-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200"
                rows={2}
                disabled={isTyping}
              />
            </div>
            <button
              onClick={handleSendMessage}
              disabled={!inputText.trim() || isTyping}
              className="px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors duration-200 flex items-center justify-center"
            >
              <Send className="w-5 h-5" />
            </button>
          </div>
          
          <p className="text-xs text-gray-500 mt-2">
            {getLocalizedText('press_enter', language) || "Press Enter to send, Shift+Enter for new line"}
          </p>
        </div>
      </div>

      {/* Quick Actions */}
      <div className="mt-6">
      <div className="grid md:grid-cols-3 gap-4">
        <button 
          onClick={() => setInputText("What should I check before signing this document?")}
          className="bg-white p-4 rounded-lg border border-gray-200 hover:border-blue-300 hover:shadow-md transition-all duration-200 text-left"
        >
          <h3 className="font-semibold text-gray-900 mb-2">üìã {getLocalizedText('what_check', language) || 'What Should I Check?'}</h3>
          <p className="text-sm text-gray-600">
            {getLocalizedText('checklist_desc', language) || 'Get a simple checklist of things to verify before signing'}
          </p>
        </button>
        
        <button 
          onClick={() => setInputText("What are my rights according to this document?")}
          className="bg-white p-4 rounded-lg border border-gray-200 hover:border-blue-300 hover:shadow-md transition-all duration-200 text-left"
        >
          <h3 className="font-semibold text-gray-900 mb-2">‚öñÔ∏è {getLocalizedText('what_rights', language) || 'What Are My Rights?'}</h3>
          <p className="text-sm text-gray-600">
            {getLocalizedText('rights_desc', language) || 'Learn what protections you have under the law'}
          </p>
        </button>
        
        <button 
          onClick={() => setInputText("Are these terms normal for this type of document?")}
          className="bg-white p-4 rounded-lg border border-gray-200 hover:border-blue-300 hover:shadow-md transition-all duration-200 text-left"
        >
          <h3 className="font-semibold text-gray-900 mb-2">üîç {getLocalizedText('is_normal', language) || 'Is This Normal?'}</h3>
          <p className="text-sm text-gray-600">
            {getLocalizedText('normal_desc', language) || 'Find out if these terms are typical or unusual'}
          </p>
        </button>
      </div>
      </div>
    </div>
  );
};

// Generate contextual AI responses based on user questions
const generateContextualResponse = (question: string, docData: any, language: string): string => {
  const lowerQuestion = question.toLowerCase();
  
  // Security deposit related questions
  if (lowerQuestion.includes('security') || lowerQuestion.includes('deposit')) {
    return getLocalizedResponse('security_deposit', language);
  }
  
  // Rent increase questions
  if (lowerQuestion.includes('rent') && (lowerQuestion.includes('increase') || lowerQuestion.includes('raise'))) {
    return getLocalizedResponse('rent_increase', language);
  }
  
  // Maintenance and repair questions
  if (lowerQuestion.includes('repair') || lowerQuestion.includes('maintenance') || lowerQuestion.includes('fix')) {
    return getLocalizedResponse('maintenance', language);
  }
  
  // Eviction and termination questions
  if (lowerQuestion.includes('evict') || lowerQuestion.includes('kick out') || lowerQuestion.includes('terminate')) {
    return getLocalizedResponse('eviction', language);
  }
  
  // Rights related questions
  if (lowerQuestion.includes('rights') || lowerQuestion.includes('protect')) {
    return getLocalizedResponse('rights', language);
  }
  
  // Early termination questions
  if (lowerQuestion.includes('early') && lowerQuestion.includes('move')) {
    return getLocalizedResponse('early_termination', language);
  }
  
  // Default response for general questions
  return getLocalizedResponse('general', language);
};
// Helper function for localized AI responses
const getLocalizedResponse = (key: string, language: string): string => {
  const responses: Record<string, Record<string, string>> = {
    en: {
      security_deposit: "Looking at your document, you need to pay ‚Çπ90,000 as security deposit (2 months rent). This is higher than the typical 1 month rent that most places ask for. Make sure to document the property condition with photos when you move in to protect your deposit when you move out.",
      rent_increase: "Your landlord can increase rent with only 30 days notice. This is less time than many places give (usually 60 days). That's not much time to plan if you can't afford the increase. You might want to negotiate for a longer notice period.",
      maintenance: "According to your contract, you're responsible for repairs over ‚Çπ100. This means if the AC breaks or there's a plumbing issue costing more than ‚Çπ100, you have to pay. This is unusual - normally landlords handle expensive repairs. Try to negotiate this to a higher amount.",
      eviction: "Your contract allows termination with 60 days notice from either party. This is actually reasonable and gives you time to find a new place. However, there's an early termination fee of one month's rent if you leave before the lease ends.",
      rights: "You have the right to live in a safe, habitable property. Your landlord must handle structural repairs and can't enter without reasonable notice. Under Indian tenant laws, you're also protected from arbitrary eviction as long as you follow the lease terms.",
      early_termination: "If you need to move out early, you'll have to pay one month's rent as an early termination fee (‚Çπ45,000). You also need to give 60 days written notice. Make sure to get your security deposit back by documenting the property condition.",
      general: "I'm here to help you understand your document! Could you be more specific about what you'd like to know? I can explain any clause, tell you about your rights, or help you understand what certain terms mean in simple language."
    },
    hi: {
      security_deposit: "‡§Ü‡§™‡§ï‡•á ‡§¶‡§∏‡•ç‡§§‡§æ‡§µ‡•á‡§ú‡§º ‡§ï‡•á ‡§Ö‡§®‡•Å‡§∏‡§æ‡§∞, ‡§Ü‡§™‡§ï‡•ã ‚Çπ90,000 ‡§∏‡§ø‡§ï‡•ç‡§Ø‡•Ç‡§∞‡§ø‡§ü‡•Ä ‡§°‡§ø‡§™‡•â‡§ú‡§ø‡§ü ‡§¶‡•á‡§®‡§æ ‡§π‡•ã‡§ó‡§æ (2 ‡§Æ‡§π‡•Ä‡§®‡•á ‡§ï‡§æ ‡§ï‡§ø‡§∞‡§æ‡§Ø‡§æ)‡•§ ‡§Ø‡§π ‡§∏‡§æ‡§Æ‡§æ‡§®‡•ç‡§Ø 1 ‡§Æ‡§π‡•Ä‡§®‡•á ‡§ï‡•á ‡§ï‡§ø‡§∞‡§æ‡§è ‡§∏‡•á ‡§ú‡•ç‡§Ø‡§æ‡§¶‡§æ ‡§π‡•à‡•§ ‡§ú‡§¨ ‡§Ü‡§™ ‡§Ö‡§Ç‡§¶‡§∞ ‡§ú‡§æ‡§è‡§Ç ‡§§‡•ã ‡§∏‡§Ç‡§™‡§§‡•ç‡§§‡§ø ‡§ï‡•Ä ‡§∏‡•ç‡§•‡§ø‡§§‡§ø ‡§ï‡•Ä ‡§§‡§∏‡•ç‡§µ‡•Ä‡§∞‡•á‡§Ç ‡§≤‡•á‡§Ç ‡§§‡§æ‡§ï‡§ø ‡§¨‡§æ‡§π‡§∞ ‡§ú‡§æ‡§§‡•á ‡§∏‡§Æ‡§Ø ‡§Ü‡§™‡§ï‡•Ä ‡§ú‡§Æ‡§æ ‡§∞‡§æ‡§∂‡§ø ‡§µ‡§æ‡§™‡§∏ ‡§Æ‡§ø‡§≤ ‡§∏‡§ï‡•á‡•§",
      rent_increase: "‡§Ü‡§™‡§ï‡§æ ‡§Æ‡§ï‡§æ‡§® ‡§Æ‡§æ‡§≤‡§ø‡§ï ‡§ï‡•á‡§µ‡§≤ 30 ‡§¶‡§ø‡§® ‡§ï‡•á ‡§®‡•ã‡§ü‡§ø‡§∏ ‡§∏‡•á ‡§ï‡§ø‡§∞‡§æ‡§Ø‡§æ ‡§¨‡§¢‡§º‡§æ ‡§∏‡§ï‡§§‡§æ ‡§π‡•à‡•§ ‡§Ø‡§π ‡§ï‡§à ‡§ú‡§ó‡§π‡•ã‡§Ç ‡§∏‡•á ‡§ï‡§Æ ‡§∏‡§Æ‡§Ø ‡§π‡•à (‡§Ü‡§Æ‡§§‡•å‡§∞ ‡§™‡§∞ 60 ‡§¶‡§ø‡§®)‡•§ ‡§Ö‡§ó‡§∞ ‡§Ü‡§™ ‡§µ‡•É‡§¶‡•ç‡§ß‡§ø ‡§ï‡§æ ‡§ñ‡§∞‡•ç‡§ö ‡§®‡§π‡•Ä‡§Ç ‡§â‡§†‡§æ ‡§∏‡§ï‡§§‡•á ‡§§‡•ã ‡§Ø‡•ã‡§ú‡§®‡§æ ‡§¨‡§®‡§æ‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§Ø‡§π ‡§™‡§∞‡•ç‡§Ø‡§æ‡§™‡•ç‡§§ ‡§∏‡§Æ‡§Ø ‡§®‡§π‡•Ä‡§Ç ‡§π‡•à‡•§",
      maintenance: "‡§Ü‡§™‡§ï‡•á ‡§Ö‡§®‡•Å‡§¨‡§Ç‡§ß ‡§ï‡•á ‡§Ö‡§®‡•Å‡§∏‡§æ‡§∞, ‡§Ü‡§™ ‚Çπ100 ‡§∏‡•á ‡§Ö‡§ß‡§ø‡§ï ‡§ï‡•Ä ‡§Æ‡§∞‡§Æ‡•ç‡§Æ‡§§ ‡§ï‡•á ‡§≤‡§ø‡§è ‡§ú‡§ø‡§Æ‡•ç‡§Æ‡•á‡§¶‡§æ‡§∞ ‡§π‡•à‡§Ç‡•§ ‡§á‡§∏‡§ï‡§æ ‡§Æ‡§§‡§≤‡§¨ ‡§π‡•à ‡§ï‡§ø ‡§Ö‡§ó‡§∞ AC ‡§ü‡•Ç‡§ü‡§§‡§æ ‡§π‡•à ‡§Ø‡§æ ‚Çπ100 ‡§∏‡•á ‡§Ö‡§ß‡§ø‡§ï ‡§ï‡•Ä ‡§™‡•ç‡§≤‡§Ç‡§¨‡§ø‡§Ç‡§ó ‡§∏‡§Æ‡§∏‡•ç‡§Ø‡§æ ‡§π‡•à, ‡§§‡•ã ‡§Ü‡§™‡§ï‡•ã ‡§≠‡•Å‡§ó‡§§‡§æ‡§® ‡§ï‡§∞‡§®‡§æ ‡§π‡•ã‡§ó‡§æ‡•§ ‡§Ø‡§π ‡§Ö‡§∏‡§æ‡§Æ‡§æ‡§®‡•ç‡§Ø ‡§π‡•à‡•§",
      eviction: "‡§Ü‡§™‡§ï‡§æ ‡§Ö‡§®‡•Å‡§¨‡§Ç‡§ß ‡§¶‡•ã‡§®‡•ã‡§Ç ‡§™‡§ï‡•ç‡§∑‡•ã‡§Ç ‡§∏‡•á 60 ‡§¶‡§ø‡§® ‡§ï‡•á ‡§®‡•ã‡§ü‡§ø‡§∏ ‡§ï‡•á ‡§∏‡§æ‡§• ‡§∏‡§Æ‡§æ‡§™‡•ç‡§§‡§ø ‡§ï‡•Ä ‡§Ö‡§®‡•Å‡§Æ‡§§‡§ø ‡§¶‡•á‡§§‡§æ ‡§π‡•à‡•§ ‡§Ø‡§π ‡§µ‡§æ‡§∏‡•ç‡§§‡§µ ‡§Æ‡•á‡§Ç ‡§â‡§ö‡§ø‡§§ ‡§π‡•à‡•§ ‡§π‡§æ‡§≤‡§æ‡§Ç‡§ï‡§ø, ‡§Ö‡§ó‡§∞ ‡§Ü‡§™ ‡§≤‡•Ä‡§ú ‡§∏‡§Æ‡§æ‡§™‡•ç‡§§ ‡§π‡•ã‡§®‡•á ‡§∏‡•á ‡§™‡§π‡§≤‡•á ‡§õ‡•ã‡§°‡§º‡§§‡•á ‡§π‡•à‡§Ç ‡§§‡•ã ‡§è‡§ï ‡§Æ‡§π‡•Ä‡§®‡•á ‡§ï‡•á ‡§ï‡§ø‡§∞‡§æ‡§è ‡§ï‡§æ ‡§ú‡•Å‡§∞‡•ç‡§Æ‡§æ‡§®‡§æ ‡§π‡•à‡•§",
      rights: "‡§Ü‡§™‡§ï‡•ã ‡§∏‡•Å‡§∞‡§ï‡•ç‡§∑‡§ø‡§§, ‡§∞‡§π‡§®‡•á ‡§Ø‡•ã‡§ó‡•ç‡§Ø ‡§∏‡§Ç‡§™‡§§‡•ç‡§§‡§ø ‡§Æ‡•á‡§Ç ‡§∞‡§π‡§®‡•á ‡§ï‡§æ ‡§Ö‡§ß‡§ø‡§ï‡§æ‡§∞ ‡§π‡•à‡•§ ‡§Ü‡§™‡§ï‡§æ ‡§Æ‡§ï‡§æ‡§® ‡§Æ‡§æ‡§≤‡§ø‡§ï ‡§∏‡§Ç‡§∞‡§ö‡§®‡§æ‡§§‡•ç‡§Æ‡§ï ‡§Æ‡§∞‡§Æ‡•ç‡§Æ‡§§ ‡§∏‡§Ç‡§≠‡§æ‡§≤‡§®‡§æ ‡§ö‡§æ‡§π‡§ø‡§è ‡§î‡§∞ ‡§¨‡§ø‡§®‡§æ ‡§â‡§ö‡§ø‡§§ ‡§∏‡•Ç‡§ö‡§®‡§æ ‡§ï‡•á ‡§™‡•ç‡§∞‡§µ‡•á‡§∂ ‡§®‡§π‡•Ä‡§Ç ‡§ï‡§∞ ‡§∏‡§ï‡§§‡§æ‡•§",
      early_termination: "‡§Ö‡§ó‡§∞ ‡§Ü‡§™‡§ï‡•ã ‡§ú‡§≤‡•ç‡§¶‡•Ä ‡§¨‡§æ‡§π‡§∞ ‡§ú‡§æ‡§®‡§æ ‡§π‡•à, ‡§§‡•ã ‡§Ü‡§™‡§ï‡•ã ‡§è‡§ï ‡§Æ‡§π‡•Ä‡§®‡•á ‡§ï‡§æ ‡§ï‡§ø‡§∞‡§æ‡§Ø‡§æ ‡§ú‡•Å‡§∞‡•ç‡§Æ‡§æ‡§®‡§æ ‡§¶‡•á‡§®‡§æ ‡§π‡•ã‡§ó‡§æ (‚Çπ45,000)‡•§ ‡§Ü‡§™‡§ï‡•ã 60 ‡§¶‡§ø‡§® ‡§ï‡§æ ‡§≤‡§ø‡§ñ‡§ø‡§§ ‡§®‡•ã‡§ü‡§ø‡§∏ ‡§≠‡•Ä ‡§¶‡•á‡§®‡§æ ‡§π‡•ã‡§ó‡§æ‡•§",
      general: "‡§Æ‡•à‡§Ç ‡§Ü‡§™‡§ï‡•á ‡§¶‡§∏‡•ç‡§§‡§æ‡§µ‡•á‡§ú‡§º ‡§ï‡•ã ‡§∏‡§Æ‡§ù‡§®‡•á ‡§Æ‡•á‡§Ç ‡§Ü‡§™‡§ï‡•Ä ‡§Æ‡§¶‡§¶ ‡§ï‡•á ‡§≤‡§ø‡§è ‡§Ø‡§π‡§æ‡§Å ‡§π‡•Ç‡§Å! ‡§ï‡•ç‡§Ø‡§æ ‡§Ü‡§™ ‡§Ö‡§ß‡§ø‡§ï ‡§µ‡§ø‡§∂‡§ø‡§∑‡•ç‡§ü ‡§π‡•ã ‡§∏‡§ï‡§§‡•á ‡§π‡•à‡§Ç ‡§ï‡§ø ‡§Ü‡§™ ‡§ï‡•ç‡§Ø‡§æ ‡§ú‡§æ‡§®‡§®‡§æ ‡§ö‡§æ‡§π‡§§‡•á ‡§π‡•à‡§Ç?"
    },
    ta: {
      security_deposit: "‡Æâ‡Æô‡Øç‡Æï‡Æ≥‡Øç ‡ÆÜ‡Æµ‡Æ£‡Æ§‡Øç‡Æ§‡Æø‡Æ©‡Øç ‡Æ™‡Æü‡Æø, ‡Æ®‡ØÄ‡Æô‡Øç‡Æï‡Æ≥‡Øç ‚Çπ90,000 ‡Æ™‡Ææ‡Æ§‡ØÅ‡Æï‡Ææ‡Æ™‡Øç‡Æ™‡ØÅ ‡Æµ‡Øà‡Æ™‡Øç‡Æ™‡ØÅ ‡Æö‡ØÜ‡Æ≤‡ØÅ‡Æ§‡Øç‡Æ§ ‡Æµ‡Øá‡Æ£‡Øç‡Æü‡ØÅ‡ÆÆ‡Øç (2 ‡ÆÆ‡Ææ‡Æ§ ‡Æµ‡Ææ‡Æü‡Æï‡Øà). ‡Æá‡Æ§‡ØÅ ‡Æµ‡Æ¥‡Æï‡Øç‡Æï‡ÆÆ‡Ææ‡Æ© 1 ‡ÆÆ‡Ææ‡Æ§ ‡Æµ‡Ææ‡Æü‡Æï‡Øà‡ÆØ‡Øà ‡Æµ‡Æø‡Æü ‡ÆÖ‡Æ§‡Æø‡Æï‡ÆÆ‡Øç. ‡Æâ‡Æ≥‡Øç‡Æ≥‡Øá ‡Æö‡ØÜ‡Æ≤‡Øç‡Æ≤‡ØÅ‡ÆÆ‡Øç‡Æ™‡Øã‡Æ§‡ØÅ ‡Æö‡Øä‡Æ§‡Øç‡Æ§‡Æø‡Æ©‡Øç ‡Æ®‡Æø‡Æ≤‡Øà‡ÆØ‡Æø‡Æ©‡Øç ‡Æ™‡ØÅ‡Æï‡Øà‡Æ™‡Øç‡Æ™‡Æü‡Æô‡Øç‡Æï‡Æ≥‡Øà ‡Æé‡Æü‡ØÅ‡Æô‡Øç‡Æï‡Æ≥‡Øç.",
      rent_increase: "‡Æâ‡Æô‡Øç‡Æï‡Æ≥‡Øç ‡Æµ‡ØÄ‡Æü‡Øç‡Æü‡ØÅ ‡Æâ‡Æ∞‡Æø‡ÆÆ‡Øà‡ÆØ‡Ææ‡Æ≥‡Æ∞‡Øç ‡Æµ‡ØÜ‡Æ±‡ØÅ‡ÆÆ‡Øç 30 ‡Æ®‡Ææ‡Æü‡Øç‡Æï‡Æ≥‡Øç ‡ÆÖ‡Æ±‡Æø‡Æµ‡Æø‡Æ™‡Øç‡Æ™‡ØÅ‡Æü‡Æ©‡Øç ‡Æµ‡Ææ‡Æü‡Æï‡Øà‡ÆØ‡Øà ‡ÆÖ‡Æ§‡Æø‡Æï‡Æ∞‡Æø‡Æï‡Øç‡Æï ‡ÆÆ‡ØÅ‡Æü‡Æø‡ÆØ‡ØÅ‡ÆÆ‡Øç. ‡Æá‡Æ§‡ØÅ ‡Æ™‡Æ≤ ‡Æá‡Æü‡Æô‡Øç‡Æï‡Æ≥‡Øà ‡Æµ‡Æø‡Æü ‡Æï‡ØÅ‡Æ±‡Øà‡Æµ‡Ææ‡Æ© ‡Æ®‡Øá‡Æ∞‡ÆÆ‡Øç (‡Æ™‡Øä‡Æ§‡ØÅ‡Æµ‡Ææ‡Æï 60 ‡Æ®‡Ææ‡Æü‡Øç‡Æï‡Æ≥‡Øç).",
      maintenance: "‡Æâ‡Æô‡Øç‡Æï‡Æ≥‡Øç ‡Æí‡Æ™‡Øç‡Æ™‡Æ®‡Øç‡Æ§‡Æ§‡Øç‡Æ§‡Æø‡Æ©‡Øç ‡Æ™‡Æü‡Æø, ‡Æ®‡ØÄ‡Æô‡Øç‡Æï‡Æ≥‡Øç ‚Çπ100‡Æï‡Øç‡Æï‡ØÅ ‡ÆÆ‡Øá‡Æ≤‡Øç ‡Æ™‡Æ¥‡ØÅ‡Æ§‡ØÅ‡Æ™‡Ææ‡Æ∞‡Øç‡Æ™‡Øç‡Æ™‡ØÅ‡Æï‡Øç‡Æï‡ØÅ ‡Æ™‡Øä‡Æ±‡ØÅ‡Æ™‡Øç‡Æ™‡ØÅ. ‡Æá‡Æ§‡Æ©‡Øç ‡ÆÖ‡Æ∞‡Øç‡Æ§‡Øç‡Æ§‡ÆÆ‡Øç AC ‡Æâ‡Æü‡Øà‡Æ®‡Øç‡Æ§‡Ææ‡Æ≤‡Øç ‡ÆÖ‡Æ≤‡Øç‡Æ≤‡Æ§‡ØÅ ‚Çπ100‡Æï‡Øç‡Æï‡ØÅ ‡ÆÆ‡Øá‡Æ≤‡Øç ‡Æ™‡Æø‡Æ≥‡ÆÆ‡Øç‡Æ™‡Æø‡Æô‡Øç ‡Æ™‡Æø‡Æ∞‡Æö‡Øç‡Æö‡Æø‡Æ©‡Øà ‡Æá‡Æ∞‡ØÅ‡Æ®‡Øç‡Æ§‡Ææ‡Æ≤‡Øç, ‡Æ®‡ØÄ‡Æô‡Øç‡Æï‡Æ≥‡Øç ‡Æö‡ØÜ‡Æ≤‡ØÅ‡Æ§‡Øç‡Æ§ ‡Æµ‡Øá‡Æ£‡Øç‡Æü‡ØÅ‡ÆÆ‡Øç.",
      eviction: "‡Æâ‡Æô‡Øç‡Æï‡Æ≥‡Øç ‡Æí‡Æ™‡Øç‡Æ™‡Æ®‡Øç‡Æ§‡ÆÆ‡Øç ‡Æá‡Æ∞‡ØÅ ‡Æ§‡Æ∞‡Æ™‡Øç‡Æ™‡Æø‡Æ≤‡Æø‡Æ∞‡ØÅ‡Æ®‡Øç‡Æ§‡ØÅ‡ÆÆ‡Øç 60 ‡Æ®‡Ææ‡Æü‡Øç‡Æï‡Æ≥‡Øç ‡ÆÖ‡Æ±‡Æø‡Æµ‡Æø‡Æ™‡Øç‡Æ™‡ØÅ‡Æü‡Æ©‡Øç ‡ÆÆ‡ØÅ‡Æü‡Æø‡Æµ‡ØÅ‡Æï‡Øç‡Æï‡ØÅ ‡ÆÖ‡Æ©‡ØÅ‡ÆÆ‡Æ§‡Æø‡Æï‡Øç‡Æï‡Æø‡Æ±‡Æ§‡ØÅ. ‡Æá‡Æ§‡ØÅ ‡Æâ‡Æ£‡Øç‡ÆÆ‡Øà‡ÆØ‡Æø‡Æ≤‡Øç ‡Æ®‡Æø‡ÆØ‡Ææ‡ÆØ‡ÆÆ‡Ææ‡Æ©‡Æ§‡ØÅ. ‡Æá‡Æ∞‡ØÅ‡Æ™‡Øç‡Æ™‡Æø‡Æ©‡ØÅ‡ÆÆ‡Øç, ‡Æï‡ØÅ‡Æ§‡Øç‡Æ§‡Æï‡Øà ‡ÆÆ‡ØÅ‡Æü‡Æø‡Æµ‡Æ§‡Æ±‡Øç‡Æï‡ØÅ ‡ÆÆ‡ØÅ‡Æ©‡Øç ‡Æ®‡ØÄ‡Æô‡Øç‡Æï‡Æ≥‡Øç ‡Æµ‡ØÜ‡Æ≥‡Æø‡ÆØ‡Øá‡Æ±‡Æø‡Æ©‡Ææ‡Æ≤‡Øç ‡Æí‡Æ∞‡ØÅ ‡ÆÆ‡Ææ‡Æ§ ‡Æµ‡Ææ‡Æü‡Æï‡Øà ‡ÆÖ‡Æ™‡Æ∞‡Ææ‡Æ§‡ÆÆ‡Øç ‡Æâ‡Æ≥‡Øç‡Æ≥‡Æ§‡ØÅ.",
      rights: "‡Æ®‡ØÄ‡Æô‡Øç‡Æï‡Æ≥‡Øç ‡Æ™‡Ææ‡Æ§‡ØÅ‡Æï‡Ææ‡Æ™‡Øç‡Æ™‡Ææ‡Æ©, ‡Æµ‡Ææ‡Æ¥‡Æï‡Øç‡Æï‡ØÇ‡Æü‡Æø‡ÆØ ‡Æö‡Øä‡Æ§‡Øç‡Æ§‡Æø‡Æ≤‡Øç ‡Æµ‡Ææ‡Æ¥ ‡Æâ‡Æ∞‡Æø‡ÆÆ‡Øà ‡Æâ‡Æ£‡Øç‡Æü‡ØÅ. ‡Æâ‡Æô‡Øç‡Æï‡Æ≥‡Øç ‡Æµ‡ØÄ‡Æü‡Øç‡Æü‡ØÅ ‡Æâ‡Æ∞‡Æø‡ÆÆ‡Øà‡ÆØ‡Ææ‡Æ≥‡Æ∞‡Øç ‡Æï‡Æü‡Øç‡Æü‡ÆÆ‡Øà‡Æ™‡Øç‡Æ™‡ØÅ ‡Æ™‡Æ¥‡ØÅ‡Æ§‡ØÅ‡Æ™‡Ææ‡Æ∞‡Øç‡Æ™‡Øç‡Æ™‡ØÅ‡Æï‡Æ≥‡Øà ‡Æï‡Øà‡ÆØ‡Ææ‡Æ≥ ‡Æµ‡Øá‡Æ£‡Øç‡Æü‡ØÅ‡ÆÆ‡Øç.",
      early_termination: "‡Æ®‡ØÄ‡Æô‡Øç‡Æï‡Æ≥‡Øç ‡Æö‡ØÄ‡Æï‡Øç‡Æï‡Æø‡Æ∞‡ÆÆ‡Øç ‡Æµ‡ØÜ‡Æ≥‡Æø‡ÆØ‡Øá‡Æ± ‡Æµ‡Øá‡Æ£‡Øç‡Æü‡ØÅ‡ÆÆ‡Ææ‡Æ©‡Ææ‡Æ≤‡Øç, ‡Æí‡Æ∞‡ØÅ ‡ÆÆ‡Ææ‡Æ§ ‡Æµ‡Ææ‡Æü‡Æï‡Øà‡ÆØ‡Øà ‡ÆÖ‡Æ™‡Æ∞‡Ææ‡Æ§‡ÆÆ‡Ææ‡Æï ‡Æö‡ØÜ‡Æ≤‡ØÅ‡Æ§‡Øç‡Æ§ ‡Æµ‡Øá‡Æ£‡Øç‡Æü‡ØÅ‡ÆÆ‡Øç (‚Çπ45,000). ‡Æ®‡ØÄ‡Æô‡Øç‡Æï‡Æ≥‡Øç 60 ‡Æ®‡Ææ‡Æü‡Øç‡Æï‡Æ≥‡Øç ‡Æé‡Æ¥‡ØÅ‡Æ§‡Øç‡Æ§‡ØÅ‡Æ™‡Øç‡Æ™‡ØÇ‡Æ∞‡Øç‡Æµ ‡ÆÖ‡Æ±‡Æø‡Æµ‡Æø‡Æ™‡Øç‡Æ™‡ØÅ‡ÆÆ‡Øç ‡Æï‡Øä‡Æü‡ØÅ‡Æï‡Øç‡Æï ‡Æµ‡Øá‡Æ£‡Øç‡Æü‡ØÅ‡ÆÆ‡Øç.",
      general: "‡Æâ‡Æô‡Øç‡Æï‡Æ≥‡Øç ‡ÆÜ‡Æµ‡Æ£‡Æ§‡Øç‡Æ§‡Øà ‡Æ™‡ØÅ‡Æ∞‡Æø‡Æ®‡Øç‡Æ§‡ØÅ‡Æï‡Øä‡Æ≥‡Øç‡Æ≥ ‡Æâ‡Æ§‡Æµ ‡Æ®‡Ææ‡Æ©‡Øç ‡Æá‡Æô‡Øç‡Æï‡Øá ‡Æá‡Æ∞‡ØÅ‡Æï‡Øç‡Æï‡Æø‡Æ±‡Øá‡Æ©‡Øç! ‡Æ®‡ØÄ‡Æô‡Øç‡Æï‡Æ≥‡Øç ‡Æé‡Æ©‡Øç‡Æ© ‡Æ§‡ØÜ‡Æ∞‡Æø‡Æ®‡Øç‡Æ§‡ØÅ‡Æï‡Øä‡Æ≥‡Øç‡Æ≥ ‡Æµ‡Æø‡Æ∞‡ØÅ‡ÆÆ‡Øç‡Æ™‡ØÅ‡Æï‡Æø‡Æ±‡ØÄ‡Æ∞‡Øç‡Æï‡Æ≥‡Øç ‡Æé‡Æ©‡Øç‡Æ™‡Æ§‡Æø‡Æ≤‡Øç ‡Æá‡Æ©‡Øç‡Æ©‡ØÅ‡ÆÆ‡Øç ‡Æï‡ØÅ‡Æ±‡Æø‡Æ™‡Øç‡Æ™‡Æø‡Æü‡Øç‡Æü‡ØÅ ‡Æö‡Øä‡Æ≤‡Øç‡Æ≤ ‡ÆÆ‡ØÅ‡Æü‡Æø‡ÆØ‡ØÅ‡ÆÆ‡Ææ?"
    },
    te: {
      security_deposit: "‡∞Æ‡±Ä ‡∞™‡∞§‡±ç‡∞∞‡∞Ç ‡∞™‡±ç‡∞∞‡∞ï‡∞æ‡∞∞‡∞Ç, ‡∞Æ‡±Ä‡∞∞‡±Å ‚Çπ90,000 ‡∞∏‡±Ü‡∞ï‡±ç‡∞Ø‡±Ç‡∞∞‡∞ø‡∞ü‡±Ä ‡∞°‡∞ø‡∞™‡∞æ‡∞ú‡∞ø‡∞ü‡±ç ‡∞ö‡±Ü‡∞≤‡±ç‡∞≤‡∞ø‡∞Ç‡∞ö‡∞æ‡∞≤‡∞ø (2 ‡∞®‡±Ü‡∞≤‡∞≤ ‡∞Ö‡∞¶‡±ç‡∞¶‡±Ü). ‡∞á‡∞¶‡∞ø ‡∞∏‡∞æ‡∞ß‡∞æ‡∞∞‡∞£ 1 ‡∞®‡±Ü‡∞≤ ‡∞Ö‡∞¶‡±ç‡∞¶‡±Ü ‡∞ï‡∞Ç‡∞ü‡±á ‡∞é‡∞ï‡±ç‡∞ï‡±Å‡∞µ. ‡∞≤‡±ã‡∞™‡∞≤‡∞ø‡∞ï‡∞ø ‡∞µ‡±Ü‡∞≥‡±ç‡∞≤‡±á‡∞ü‡∞™‡±ç‡∞™‡±Å‡∞°‡±Å ‡∞Ü‡∞∏‡±ç‡∞§‡∞ø ‡∞∏‡±ç‡∞•‡∞ø‡∞§‡∞ø ‡∞Ø‡±ä‡∞ï‡±ç‡∞ï ‡∞´‡±ã‡∞ü‡±ã‡∞≤‡±Å ‡∞§‡±Ä‡∞Ø‡∞Ç‡∞°‡∞ø.",
      rent_increase: "‡∞Æ‡±Ä ‡∞á‡∞Ç‡∞ü‡∞ø ‡∞Ø‡∞ú‡∞Æ‡∞æ‡∞®‡∞ø ‡∞ï‡±á‡∞µ‡∞≤‡∞Ç 30 ‡∞∞‡±ã‡∞ú‡±Å‡∞≤ ‡∞®‡±ã‡∞ü‡±Ä‡∞∏‡±Å‡∞§‡±ã ‡∞Ö‡∞¶‡±ç‡∞¶‡±Ü ‡∞™‡±Ü‡∞Ç‡∞ö‡∞µ‡∞ö‡±ç‡∞ö‡±Å. ‡∞á‡∞¶‡∞ø ‡∞ö‡∞æ‡∞≤‡∞æ ‡∞ö‡±ã‡∞ü‡±ç‡∞≤ ‡∞ï‡∞Ç‡∞ü‡±á ‡∞§‡∞ï‡±ç‡∞ï‡±Å‡∞µ ‡∞∏‡∞Æ‡∞Ø‡∞Ç (‡∞∏‡∞æ‡∞ß‡∞æ‡∞∞‡∞£‡∞Ç‡∞ó‡∞æ 60 ‡∞∞‡±ã‡∞ú‡±Å‡∞≤‡±Å).",
      maintenance: "‡∞Æ‡±Ä ‡∞í‡∞™‡±ç‡∞™‡∞Ç‡∞¶‡∞Ç ‡∞™‡±ç‡∞∞‡∞ï‡∞æ‡∞∞‡∞Ç, ‡∞Æ‡±Ä‡∞∞‡±Å ‚Çπ100 ‡∞ï‡∞Ç‡∞ü‡±á ‡∞é‡∞ï‡±ç‡∞ï‡±Å‡∞µ ‡∞Æ‡∞∞‡∞Æ‡±ç‡∞Æ‡∞§‡±Å‡∞≤‡∞ï‡±Å ‡∞¨‡∞æ‡∞ß‡±ç‡∞Ø‡∞§ ‡∞µ‡∞π‡∞ø‡∞∏‡±ç‡∞§‡∞æ‡∞∞‡±Å. ‡∞¶‡±Ä‡∞®‡∞ø ‡∞Ö‡∞∞‡±ç‡∞•‡∞Ç AC ‡∞µ‡∞ø‡∞∞‡∞ø‡∞ó‡∞ø‡∞§‡±á ‡∞≤‡±á‡∞¶‡∞æ ‚Çπ100 ‡∞ï‡∞Ç‡∞ü‡±á ‡∞é‡∞ï‡±ç‡∞ï‡±Å‡∞µ ‡∞™‡±ç‡∞≤‡∞Ç‡∞¨‡∞ø‡∞Ç‡∞ó‡±ç ‡∞∏‡∞Æ‡∞∏‡±ç‡∞Ø ‡∞â‡∞Ç‡∞ü‡±á, ‡∞Æ‡±Ä‡∞∞‡±Å ‡∞ö‡±Ü‡∞≤‡±ç‡∞≤‡∞ø‡∞Ç‡∞ö‡∞æ‡∞≤‡∞ø.",
      eviction: "‡∞Æ‡±Ä ‡∞í‡∞™‡±ç‡∞™‡∞Ç‡∞¶‡∞Ç ‡∞∞‡±Ü‡∞Ç‡∞°‡±Å ‡∞™‡∞ï‡±ç‡∞∑‡∞æ‡∞≤ ‡∞®‡±Å‡∞Ç‡∞°‡∞ø 60 ‡∞∞‡±ã‡∞ú‡±Å‡∞≤ ‡∞®‡±ã‡∞ü‡±Ä‡∞∏‡±Å‡∞§‡±ã ‡∞Æ‡±Å‡∞ó‡∞ø‡∞Ç‡∞™‡±Å‡∞®‡±Å ‡∞Ö‡∞®‡±Å‡∞Æ‡∞§‡∞ø‡∞∏‡±ç‡∞§‡±Å‡∞Ç‡∞¶‡∞ø. ‡∞á‡∞¶‡∞ø ‡∞®‡∞ø‡∞ú‡∞Ç‡∞ó‡∞æ ‡∞∏‡∞π‡±á‡∞§‡±Å‡∞ï‡∞Æ‡±à‡∞®‡∞¶‡∞ø. ‡∞Ö‡∞Ø‡∞ø‡∞§‡±á, ‡∞≤‡±Ä‡∞ú‡±Å ‡∞Æ‡±Å‡∞ó‡∞ø‡∞∏‡±á‡∞≤‡±ã‡∞™‡±Å ‡∞Æ‡±Ä‡∞∞‡±Å ‡∞µ‡±Ü‡∞≥‡±ç‡∞≤‡∞ø‡∞™‡±ã‡∞§‡±á ‡∞í‡∞ï ‡∞®‡±Ü‡∞≤ ‡∞Ö‡∞¶‡±ç‡∞¶‡±Ü ‡∞ú‡∞∞‡∞ø‡∞Æ‡∞æ‡∞®‡∞æ ‡∞â‡∞Ç‡∞¶‡∞ø.",
      rights: "‡∞Æ‡±Ä‡∞∞‡±Å ‡∞∏‡±Å‡∞∞‡∞ï‡±ç‡∞∑‡∞ø‡∞§‡∞Æ‡±à‡∞®, ‡∞®‡∞ø‡∞µ‡∞æ‡∞∏‡∞Ø‡±ã‡∞ó‡±ç‡∞Ø‡∞Æ‡±à‡∞® ‡∞Ü‡∞∏‡±ç‡∞§‡∞ø‡∞≤‡±ã ‡∞®‡∞ø‡∞µ‡∞∏‡∞ø‡∞Ç‡∞ö‡±á ‡∞π‡∞ï‡±ç‡∞ï‡±Å ‡∞â‡∞Ç‡∞¶‡∞ø. ‡∞Æ‡±Ä ‡∞á‡∞Ç‡∞ü‡∞ø ‡∞Ø‡∞ú‡∞Æ‡∞æ‡∞®‡∞ø ‡∞®‡∞ø‡∞∞‡±ç‡∞Æ‡∞æ‡∞£‡∞æ‡∞§‡±ç‡∞Æ‡∞ï ‡∞Æ‡∞∞‡∞Æ‡±ç‡∞Æ‡∞§‡±Å‡∞≤‡∞®‡±Å ‡∞®‡∞ø‡∞∞‡±ç‡∞µ‡∞π‡∞ø‡∞Ç‡∞ö‡∞æ‡∞≤‡∞ø.",
      early_termination: "‡∞Æ‡±Ä‡∞∞‡±Å ‡∞§‡±ç‡∞µ‡∞∞‡∞ó‡∞æ ‡∞¨‡∞Ø‡∞ü‡∞ï‡±Å ‡∞µ‡±Ü‡∞≥‡±ç‡∞≤‡∞æ‡∞≤‡∞Ç‡∞ü‡±á, ‡∞í‡∞ï ‡∞®‡±Ü‡∞≤ ‡∞Ö‡∞¶‡±ç‡∞¶‡±Ü‡∞®‡±Å ‡∞ú‡∞∞‡∞ø‡∞Æ‡∞æ‡∞®‡∞æ‡∞ó‡∞æ ‡∞ö‡±Ü‡∞≤‡±ç‡∞≤‡∞ø‡∞Ç‡∞ö‡∞æ‡∞≤‡∞ø (‚Çπ45,000). ‡∞Æ‡±Ä‡∞∞‡±Å 60 ‡∞∞‡±ã‡∞ú‡±Å‡∞≤ ‡∞µ‡±ç‡∞∞‡∞æ‡∞§‡∞™‡±Ç‡∞∞‡±ç‡∞µ‡∞ï ‡∞®‡±ã‡∞ü‡±Ä‡∞∏‡±Å ‡∞ï‡±Ç‡∞°‡∞æ ‡∞á‡∞µ‡±ç‡∞µ‡∞æ‡∞≤‡∞ø.",
      general: "‡∞Æ‡±Ä ‡∞™‡∞§‡±ç‡∞∞‡∞æ‡∞®‡±ç‡∞®‡∞ø ‡∞Ö‡∞∞‡±ç‡∞•‡∞Ç ‡∞ö‡±á‡∞∏‡±Å‡∞ï‡±ã‡∞µ‡∞°‡∞Ç‡∞≤‡±ã ‡∞∏‡∞π‡∞æ‡∞Ø‡∞Ç ‡∞ö‡±á‡∞Ø‡∞°‡∞æ‡∞®‡∞ø‡∞ï‡∞ø ‡∞®‡±á‡∞®‡±Å ‡∞á‡∞ï‡±ç‡∞ï‡∞° ‡∞â‡∞®‡±ç‡∞®‡∞æ‡∞®‡±Å! ‡∞Æ‡±Ä‡∞∞‡±Å ‡∞è‡∞Æ‡∞ø ‡∞§‡±Ü‡∞≤‡±Å‡∞∏‡±Å‡∞ï‡±ã‡∞µ‡∞æ‡∞≤‡∞®‡±Å‡∞ï‡±Å‡∞Ç‡∞ü‡±Å‡∞®‡±ç‡∞®‡∞æ‡∞∞‡±ã ‡∞Æ‡∞∞‡∞ø‡∞Ç‡∞§ ‡∞®‡∞ø‡∞∞‡±ç‡∞¶‡∞ø‡∞∑‡±ç‡∞ü‡∞Ç‡∞ó‡∞æ ‡∞ö‡±Ü‡∞™‡±ç‡∞™‡∞ó‡∞≤‡∞∞‡∞æ?"
    }
  };

  return responses[language]?.[key] || responses.en[key] || key;
};